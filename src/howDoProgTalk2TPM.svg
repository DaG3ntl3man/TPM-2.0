<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="570px" preserveAspectRatio="none" style="width:1103px;height:570px;background:#FFFFFF;" version="1.1" viewBox="0 0 1103 570" width="1103px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="308.3213" x="394.7388" y="28.5352">How Programs Communicate with the TPM</text><rect fill="#F8E8E3" height="520.6348" style="stroke:#181818;stroke-width:0.5;" width="175.311" x="155.5972" y="43.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="169.311" x="158.5972" y="56.0566">TPM Software Stack (TSS)</text><rect fill="#E3D3C4" height="520.6348" style="stroke:#181818;stroke-width:0.5;" width="151.5708" x="480.814" y="43.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="145.5708" x="483.814" y="56.0566">Communication Layer</text><rect fill="#B85042" height="520.6348" style="stroke:#181818;stroke-width:0.5;" width="413.7051" x="684.0938" y="43.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="105.2886" x="838.302" y="56.0566">Hardware Layer</text><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="46" x2="46" y1="118.9766" y2="484.6348"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="242.3562" x2="242.3562" y1="118.9766" y2="484.6348"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="556.5417" x2="556.5417" y1="118.9766" y2="484.6348"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="773.0938" x2="773.0938" y1="118.9766" y2="484.6348"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="981.1973" x2="981.1973" y1="118.9766" y2="484.6348"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.8496" x="5" y="116.0234">Application</text><ellipse cx="46.4248" cy="50.9883" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M46.4248,58.9883 L46.4248,85.9883 M33.4248,66.9883 L59.4248,66.9883 M46.4248,85.9883 L33.4248,100.9883 M46.4248,85.9883 L59.4248,100.9883 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.8496" x="5" y="497.1699">Application</text><ellipse cx="46.4248" cy="508.623" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M46.4248,516.623 L46.4248,543.623 M33.4248,524.623 L59.4248,524.623 M46.4248,543.623 L33.4248,558.623 M46.4248,543.623 L59.4248,558.623 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63.793" x="211.3562" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49.793" x="218.3562" y="108.0234">TSS API</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63.793" x="211.3562" y="483.6348"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49.793" x="218.3562" y="504.1699">TSS API</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="88.1152" x="512.5417" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74.1152" x="519.5417" y="108.0234">TPM Driver</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="88.1152" x="512.5417" y="483.6348"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74.1152" x="519.5417" y="504.1699">TPM Driver</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="171.1035" x="688.0938" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157.1035" x="695.0938" y="108.0234">Physical Layer (SPI/I2C)</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="171.1035" x="688.0938" y="483.6348"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157.1035" x="695.0938" y="504.1699">Physical Layer (SPI/I2C)</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="224.6016" x="869.1973" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="210.6016" x="876.1973" y="108.0234">TPM (Trusted Platform Module)</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="224.6016" x="869.1973" y="483.6348"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="210.6016" x="876.1973" y="504.1699">TPM (Trusted Platform Module)</text><path d="M248,133.9766 L248,188.9766 L602,188.9766 L602,143.9766 L592,133.9766 L248,133.9766 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M592,133.9766 L592,143.9766 L602,143.9766 L592,133.9766 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="256.5977" x="254" y="151.5449">- Provides a developer-friendly interface</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="333.7788" x="254" y="166.8555">- Translates high-level API calls into TPM commands</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="245.0767" x="254" y="182.166">- Hides complexity from the developer</text><path d="M561,199.9082 L561,300.9082 L883,300.9082 L883,209.9082 L873,199.9082 L561,199.9082 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M873,199.9082 L873,209.9082 L883,209.9082 L873,199.9082 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196.9741" x="567" y="217.4766">- Handles TCTI communication</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196.2441" x="567" y="232.7871">- Implementation varies by OS:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.4399" x="575.2266" y="248.0977">- Linux: Kernel driver</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146.0088" x="575.2266" y="263.4082">- Windows: TBS service</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196.3711" x="575.2266" y="278.7188">- Baremetal: Custom I/O driver</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="293.5791" x="575.2266" y="294.0293">- Software: IPC (Inter-process communication)</text><path d="M778,311.7715 L778,351.7715 L1001,351.7715 L1001,321.7715 L991,311.7715 L778,311.7715 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M991,311.7715 L991,321.7715 L1001,321.7715 L991,311.7715 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202.9727" x="784" y="329.3398">- SPI (Serial Peripheral Interface)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192.2642" x="784" y="344.6504">- I2C (Inter-Integrated Circuit)</text><polygon fill="#181818" points="231.2527,374.7031,241.2527,378.7031,231.2527,382.7031,235.2527,378.7031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="46.4248" x2="237.2527" y1="378.7031" y2="378.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121.0688" x="53.4248" y="373.9609">Uses Developer API</text><polygon fill="#181818" points="544.5994,404.0137,554.5994,408.0137,544.5994,412.0137,548.5994,408.0137" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="243.2527" x2="550.5994" y1="408.0137" y2="408.0137"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209.8599" x="250.2527" y="403.2715">Translates API to TPM commands</text><polygon fill="#181818" points="761.6455,433.3242,771.6455,437.3242,761.6455,441.3242,765.6455,437.3242" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="556.5994" x2="767.6455" y1="437.3242" y2="437.3242"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.3184" x="563.5994" y="432.582">Communicates via SPI/I2C</text><polygon fill="#181818" points="969.498,462.6348,979.498,466.6348,969.498,470.6348,973.498,466.6348" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="773.6455" x2="975.498" y1="466.6348" y2="466.6348"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172.0723" x="780.6455" y="461.8926">Direct hardware interaction</text><!--SRC=[TLHDZvim4BtpAqRf9Jb4MoLRAU9GQKDI1NMZHO9LpruO5gi6ex53ad_ViGFvt5uImxpvU6-UiT8gX8tUGqBwaqHj8D9rlMjaBYp2NjeAR8MG9TiW4BdL1AENjbKkB7Kp0c60duFWGnzWn2X8TMdtWX1IA_A_CCxIT3A2RxyMwyLw7W2qWgpCPIiQombf2Yz9xClmcSEDvhOaFoiBkkpV0KpTU9qiq8200ZjKkaMQbYInATGHP6EHIf5ZZyv8D4On0mCLrvegb-8wGIwKCWwl7IV8cQne2jFdRNmBVjagF4XxX99qxGKuDsKaz_Hp1kx0n7ls5-5O6NWLHoGclfwlvj7p0t7klIBPEOZZdcnFJuyAN4NyX3ojuXcpA8lzzEUEFI1sizVOsDCOdM2D37mSuIqDFSI1NcMpEuJm6wbXNOfB0nVy8vj2xqq8sJ85WzJ9NbSNNF9gQxH2XH3jZ6LrugUt-mg31qA8amZ6iTlEj2MTep6tGq_-B-T6KE6DD2YvNFpu_ZoxLpAfZeQBgHCCncaIFyMpQE9r7O8-zjKEnXan2omWORUKcchOwcAdS3AivM4XzoKzNpRME4MIF4R2Vss5nCTuSELasCtih8RxvVlcMaUIyfsqNql1bmkcFzr5W13U3QzoDJZH-Jbm0HSVRCAeA_Cxnzyx_GBbl1isd7jr-GrqKa0lPt0BF7La_4eIvXQgOLV-8l9tmldn7m00]--></g></svg>